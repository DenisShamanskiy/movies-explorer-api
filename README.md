# Фильмы (Movies) - Backend

Backend дипломной работы "movies-explorer" в Яндекс.Практикум

API расположен по адресу https://api.shamanskiy.diploma.nomoredomains.monster/

## Функционал:

В проекте две сущности: пользователи и сохранённые фильмы (users и movies).

### Cхемы и модели ресурсов API

#### Поля схемы user:

- **email** — почта пользователя, по которой он регистрируется. Это обязательное поле, уникальное для каждого пользователя. Валидируется на соответствие схеме электронной почты.
- **password** — хеш пароля. Обязательное поле-строка. База данных не возвращает это поле.
- **name** — имя пользователя, например: Александр или Мария. Это обязательное поле-строка от 2 до 30 символов.

#### Поля схемы movie:

- **country** — страна создания фильма. Обязательное поле-строка.
- **director** — режиссёр фильма. Обязательное поле-строка.
- **duration** — длительность фильма. Обязательное поле-число.
- **year** — год выпуска фильма. Обязательное поле-строка.
- **description** — описание фильма. Обязательное поле-строка.
- **image** — ссылка на постер к фильму. Обязательное поле-строка. URL-адрес.
- **trailer** — ссылка на трейлер фильма. Обязательное поле-строка. URL-адрес.
- **thumbnail** — миниатюрное изображение постера к фильму. Обязательное поле-строка. URL-адрес.
- **owner** — \_id пользователя, который сохранил фильм. Обязательное поле.
- **movieId** — id фильма, который содержится в ответе сервиса MoviesExplorer. Обязательное поле.
- **nameRU** — название фильма на русском языке. Обязательное поле-строка.
- **nameEN** — название фильма на английском языке. Обязательное поле-строка.

### Роуты и контроллеры

```
# возвращает информацию о пользователе (email и имя)
GET /users/me

# обновляет информацию о пользователе (email и имя)
PATCH /users/me

# возвращает все сохранённые текущим пользователем фильмы
GET /movies

# создаёт фильм с переданными в теле
# country, director, duration, year, description, image, trailer, nameRU, nameEN и thumbnail, movieId
POST /movies

# удаляет сохранённый фильм по id
DELETE /movies/movieId
```

### Аутентификация и авторизация

```
# создаёт пользователя с переданными в теле
# email, password и name
POST /signup

# проверяет переданные в теле почту и пароль
# и возвращает JWT
POST /signin
```

### Логирование

- **request.log** - хранит информацию о всех запросах к API
- **error.log** - хранит информацию об ошибках, которые возвращает API
